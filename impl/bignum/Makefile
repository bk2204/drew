BIGNUM_DIR						:= impl/bignum

PLUGINS_BIGNUM-${CFG_TOMMATH}	+= tommath/tommath
LIBS_BIGNUM-${CFG_TOMMATH}		+= -ltommath

BIGNUM_PLUGINS	:= $(patsubst %,${BIGNUM_DIR}/%,$(PLUGINS_BIGNUM-m))
BIGNUM_MODULES	:= $(patsubst %,${BIGNUM_DIR}/%.o,$(PLUGINS_BIGNUM-y))
PLUGINS			+= $(BIGNUM_PLUGINS)
MODULES			+= $(BIGNUM_MODULES)
LIBS 			+= $(LIBS_BIGNUM-m) $(LIBS_BIGNUM-y)

$(BIGNUM_PLUGINS): CPPFLAGS += -I$(BIGNUM_DIR) -DDREW_AS_PLUGIN
$(BIGNUM_MODULES): CPPFLAGS += -I$(BIGNUM_DIR) -DDREW_AS_MODULE
$(BIGNUM_PLUGINS): LIBS += $(LIBS_BIGNUM-m)
$(BIGNUM_MODULES): LIBS += $(LIBS_BIGNUM-y)
