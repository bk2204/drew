PKSIG_DIR						:= impl/pksig

PLUGINS_PKSIG-${CFG_RSASIG}		+= rsa/rsasig
PLUGINS_PKSIG-${CFG_RSASIGPGP}	+= rsa/rsasig-openpgp
PLUGINS_PKSIG-${CFG_DSA}		+= dsa/dsa
PLUGINS_PKSIG-${CFG_ELGAMALSIG}	+= elgamal/elgamalsig

PKSIG_PLUGINS	:= $(patsubst %,${PKSIG_DIR}/%,$(PLUGINS_PKSIG-m))
PKSIG_MODULES	:= $(patsubst %,${PKSIG_DIR}/%.o,$(PLUGINS_PKSIG-y))
PLUGINS			+= $(PKSIG_PLUGINS)
MODULES			+= $(PKSIG_MODULES)
LIBS 			+= $(LIBS_PKSIG-m) $(LIBS_PKSIG-y)

$(PKSIG_PLUGINS): CPPFLAGS += -I$(PKSIG_DIR) -DDREW_AS_PLUGIN
$(PKSIG_MODULES): CPPFLAGS += -I$(PKSIG_DIR) -DDREW_AS_MODULE
$(PKSIG_PLUGINS): LIBS += $(LIBS_PKSIG-m)
$(PKSIG_MODULES): LIBS += $(LIBS_PKSIG-y)
